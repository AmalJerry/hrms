<!DOCTYPE html>
<html>
<head>
    <!-- Basic Page Info -->
    <meta charset="utf-8">
    <title>HRMS</title>
    <link rel="icon" href="/static/logo/apple-touch-icon.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <!-- Site favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="static/index/vendors/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="static/index/vendors/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="static/index/vendors/images/favicon-16x16.png">

    <!-- Mobile Specific Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="/static/index/vendors/styles/core.css">
	<link rel="stylesheet" type="text/css" href="/static/index/vendors/styles/icon-font.min.css">
	<link rel="stylesheet" type="text/css" href="/static/index/src/plugins/datatables/css/dataTables.bootstrap4.min.css">
	<link rel="stylesheet" type="text/css" href="/static/index/src/plugins/datatables/css/responsive.bootstrap4.min.css">
	<link rel="stylesheet" type="text/css" href="/static/index/vendors/styles/style.css">
    
    
    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-119386393-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-119386393-1');
    </script>
<style>
       .edit-icon {
        display: none;
    }

    .dropdown-options:hover .edit-icon {
        display: inline-block;
    }
    .description{
        width: 400px;
    }
    .edit{
        margin-left: 275px;
    }
    .edit:hover .edit-icon{
        display: block;
    }
    .edit1{
        margin-left: 136px;  
    }
    .edit1:hover .edit-icon{
        display: block;
    }

    .blue {
        color: blue !important; /* Change to your desired color */
    }

</style>


</head>
<body>

    <div class="mobile-menu-overlay"></div>

    <div class="header">
        <div class="header-left">
            <div class="menu-icon dw dw-menu"></div>
   
        </div>
        <div class="header-right">
            <div class="dashboard-setting user-notification">
                <div class="dropdown">
                    <a class="dropdown-toggle no-arrow" href="javascript:;" data-toggle="right-sidebar">
                       
                    </a>
                </div>
            </div>
            <!-- <div class="user-notification">
                <div class="dropdown">
                    <a class="dropdown-toggle no-arrow" href="#" role="button" data-toggle="dropdown">
                        <i class="icon-copy dw dw-notification"></i>
                        <span class="badge notification-active"></span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right">
                        <div class="notification-list mx-h-350 customscroll">
                            <ul>
                                <li>
                                    <a href="#">
                                        <img src="static/index/vendors/images/img.jpg" alt="">
                                        <h3>John Doe</h3>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed...</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img src="static/index/vendors/images/photo1.jpg" alt="">
                                        <h3>Lea R. Frith</h3>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed...</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img src="static/index/vendors/images/photo2.jpg" alt="">
                                        <h3>Erik L. Richards</h3>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed...</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img src="static/index/vendors/images/photo3.jpg" alt="">
                                        <h3>John Doe</h3>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed...</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img src="static/index/vendors/images/photo4.jpg" alt="">
                                        <h3>Renee I. Hansen</h3>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed...</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img src="static/index/vendors/images/img.jpg" alt="">
                                        <h3>Vicki M. Coleman</h3>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed...</p>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div> -->
            <div class="user-info-dropdown">
                <div class="dropdown">
                    <a class="dropdown-toggle" href="#" role="button" data-toggle="dropdown">
                        <span class="user-icon">
                             
                        {% if k.image %}
                            <img src="{{ k.image.url }}" alt="" style="width: 100%; height:100% ">
                        {% else %}
                        <img src="/static/logo/userlogo.png" id="photo" style="width: 100%; height:100% ">
                        {% endif %}    
                        </span>
                        <span class="user-name">{{request.user.username}}</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right dropdown-menu-icon-list">
                        <a class="dropdown-item" href="{% url 'createpersonalinfo' %}"><i class="dw dw-user1"></i> Profile</a>
                        <a class="dropdown-item" href="{% url 'department' %}" data-toggle="right-sidebar"><i class="dw dw-settings2"></i> Settings</a>
                        <a class="dropdown-item" href="{% url 'help_page' %}"><i class="dw dw-help"></i> Help</a>
                        <a class="dropdown-item" href="{% url 'logout' %}"><i class="dw dw-logout"></i> Logout</a>
                    </div>
                </div>
            </div>
            
        </div>
    </div>

    <div class="left-side-bar">
        <div class="brand-logo mt-3">
        <a href="{% url 'dashboard' %}">
            {% if request.user.company_type %}
				{% if request.user.company_type.inverse_logo %}
				<img src="{{ request.user.company_type.inverse_logo.url }}" style="width: 100%; height: 100%;">
				{% else %}
				<img src="/static/logo/deskapp-logo-white.svg" alt="" class="light-logo">
				{% endif %}
				{% else %}
				<img src="/static/logo/deskapp-logo-white.svg" alt="" class="light-logo">
				{% endif %}
        </a>
        <div class="close-sidebar" data-toggle="left-sidebar-close">
           <i class="ion-close-round"></i>
        </div>
     </div>
      
       <div class="menu-block customscroll">
            <div class="sidebar-menu">
                <ul id="accordion-menu">
					
					<br>
					<li class="btn-primary active" style="background-color:black">
						<a href="{% url 'dashboard' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-house-1"></span><span class="mtext"><b>Dashboard</b></span>
						</a>
					</li>
					
					<li>
						<a href="{% url 'companyprofile' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-building"></span><span class="mtext"><b>Company Profile</b></span>
						</a>
					</li>
					<li>
						<a href="{% url 'personalinfonav' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-user1"></span><span class="mtext"><b>My Profile</b></span>
						</a>
					</li>
					<li>
						<a href="{% url 'leave' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-calendar-1"></span><span class="mtext"><b>Leave</b></span>
						</a>
					</li>
					<li>
						<a href="{% url 'directory' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-list"></span><span class="mtext"><b>Directory</b></span>
						</a>
					</li>
					<li>
						<a href="{% url 'dailylog' %}" class="dropdown-toggle no-arrow">
							<span class="micon bi bi-check2-square"></span><span class="mtext"><b>Attendance</b></span>
						</a>
					</li>
					<li>
						<a href="{% url 'calender' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-calendar"></span><span class="mtext"><b>Holiday Calendar</b></span>
						</a>
					</li>
					<li>
						<a href="{% url 'runpayroll_overview' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-money-2"></span><span class="mtext"><b>Payroll</b></span>
						</a>
					</li>


				</ul>
            </div>
        </div>
    </div>

    <div class="main-container" >
        <div class="card-box height-100-p overflow-hidden">
            <ul class="nav nav-tabs customtab" role="tablist">
                <li class="nav-item">
                <a class="nav-link "  href="{% url 'leave' %}"role="tab">Apply Leave</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link"  href="{% url 'admin_log' %}" role="tab">My Logs</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link"  href="{% url 'log' %}" role="tab">Team Logs</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link"  href="{% url 'balance' %}" >Balance</a>
                </li>
                <li class="nav-item">
                <a class="nav-link active"  href="{% url 'Rules' %}" role="tab">Rules</a>
                </li>
                <li class="nav-item">
                    <a class="nav-link"  href="{% url 'assignrule' %}" role="tab">Assign Rule</a>
                </li>
            </ul>

            <div class="pd-20 card-box">
                <!-- <div class="min-height-200px"> -->
                    
                    <div class="row">
                        <div class="col-lg-3 col-md-4 col-sm-12 mb-30">
                            {% for rulename in data %}
                            <div class="pd-10 card-box mb-20" style="margin-top: 1%;">
                                <div class="row" id="clickrule{{ forloop.counter }}" data-rule="{{ forloop.counter }}">
                                    <div class="col-md-10" style="cursor: pointer;">
                                        <label class="clickable-label" id="label{{ forloop.counter }}" style="cursor: pointer;">{{ rulename.leavename }}</label><br>
                                        <!-- <label>Effective Date : </label> -->
                                    </div>
                                </div>
                            </div>
                            {% endfor %}
                        </div>
                    
                        {% for rulename in data %}
                        <div class="col-lg-9 col-md-8 col-sm-12 mb-30" id="ruledisplay{{ forloop.counter }}">
                            <div class="pd-20 card-box">
                                <div class="row">
                                    <div class="col-md-4">
                                        <h6>{{ rulename.leavename }}</h6>
                                    </div>
                                </div>
                                
                                <div class="row">
                                    <div class="col-md-12 mb-10">
                                        <ul class="nav nav-tabs customtab" role="tablist">
                                            <li class="nav-item generalsettings">
                                                <a class="nav-link active" href="#generalSettings" role="tab" data-toggle="tab">General Settings</a>
                                            </li>
                                            <li class="nav-item advancedsettings">
                                                <a class="nav-link" href="#advancedSettings" role="tab" data-toggle="tab">Advanced Settings</a>
                                            </li>
                                        </ul>
                                    </div>
                                </div>

                                <form method="post" action="{% url 'generalsettings' %}">
                                    {% csrf_token %}
                                  
                                    <div id="generalLabel">

                                        <input type="hidden" name="rule_id" value="{{ rulename.id }}">

                                        <div class="row">
                                            <div class="col-md-5">
                                                <div class="form-group">
                                                    <label><b>Name</b> <span style="color:red">&#42</span></label>
                                                    <input class="form-control" type="text" name="leavename" value="{{ rulename.leavename }}" disabled>
                                                </div>
                                            </div>

                                            <div class="col-md-7">
                                                <div class="form-group">
                                                    <label><b>Description</b> <span style="color:red">&#42</span></label>
                                                    <input class="form-control" type="text" name="description" value="{% if rulename.description != 'None' %}{{ rulename.description }}{% endif %}" required>
                                                </div>
                                            </div>
                                        </div>
                
                                        <div class="row">
                                            <div class="col-md-12">
                                                <b>Leaves Count</b><hr>
                                            </div>
                                            
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                <label>Leaves Allowed in a Year <span style="color:red">&#42</span></label>
                                                <input type="number" min="0" class="form-control" name="days" value="{{ rulename.days }}" required>
                                                </div>
                                            </div>
                
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                <label>Weekends Between Leave</label><br>
                                                <!-- <input type="text" class="form-control" name="WBL" value="{% if rulename.WeekendsBWLeave %}{{rulename.WeekendsBWLeave}}{% endif %}" required> -->
                                                <input type="checkbox" style="transform: scale(2);margin-top: 5%; margin-left: 5%;" id="WBL" name="WBL" {% if rulename.WeekendsBWLeave == 'on' %} checked{% endif %}> &nbsp;
                                                <label>Count As Leave</label>
                                                </div>
                                            </div>
                                            
                                            <div class="col-md-4">
                                                <div class="form-group">
                                                <label>Holidays Between Leave</label><br>
                                                <!-- <input type="text" class="form-control" name="HBL" value="{% if rulename.HolidaysBWLeave %}{{rulename.HolidaysBWLeave}}{% endif %}" required> -->
                                                <input type="checkbox" style="transform: scale(2);margin-top: 5%; margin-left: 5%;" id="HBL" name="HBL" {% if rulename.HolidaysBWLeave == 'on' %} checked{% endif %}> &nbsp;
                                                <label>Count As Leave</label>
                                                </div>
                                            </div>
                                        </div>
                
                                        <div class="row">
                                            <div class="col-md-12">
                                                <b>Accrual</b><hr>
                                            </div>
                                                            
                                            <div class="col-md-6" id="AccrualTWO">
                                                <div class="form-group">
                                                    <label>Accrual Frequency </label>
                                                    <select class="form-control" name="AF">
                                                        <option value="" selected>Select Accrual Frequency</option>
                                                        <option value="Monthly" {% if rulename.AccrualFrequency == 'Monthly' %}selected{% endif %}>Monthly</option>
                                                        <!-- <option value="Quarterly" {% if rulename.AccrualFrequency == 'Quarterly' %}selected{% endif %}>Quarterly</option> -->
                                                        <!-- <option value="Half Yearly" {% if rulename.AccrualFrequency == 'Half Yearly' %}selected{% endif %}>Half Yearly</option> -->
                                                    </select>
                                                </div>
                                            </div>
                                            
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                <label>Accrual Period </label>
                                                <select class="form-control" name="AP" >
                                                    <option value="" selected>Select Accrual Period</option>
                                                    <option value="Start" {% if rulename.AccrualPeriod == 'Start' %}selected{% endif %}>Start</option>
                                                    <option value="End" {% if rulename.AccrualPeriod == 'End' %}selected{% endif %}>End</option>
                                                </select>
                                                </div>
                                            </div>

                                            <div class="col-md-6">
                                                <div class="form-group">
                                                <input type="checkbox" style="transform: scale(2); margin-top: 5%; margin-left: 5%;" id="CAB" name="CAB" {% if rulename.CreditableAccrual == 'on' %} checked{% endif %}> &nbsp;
                                                <label>Creditable On Accrual Basis</label> 
                                                </div>                                    
                                            </div>
                                        </div>
                
                                        <div class="row">
                                            <div class="col-md-12">
                                                <b>Applicability</b><hr>
                                            </div>

                                            <div class="col-md-6">
                                                <div class="form-group">
                                                <input type="checkbox" style="transform: scale(2); margin-top: 5%; margin-left: 5%;" id="AUP" name="AUP" {% if rulename.AllowedUnderProbation == 'on' %} checked{% endif %}> &nbsp;
                                                <label>Allowed Under Probation</label>
                                                </div>                                    
                                            </div>

                                            <div class="col-md-6">
                                                <div class="form-group">
                                                <input type="checkbox" style="transform: scale(2);margin-top: 5%; margin-left: 5%;" id="AUNC" name="AUNC" {% if rulename.AllowedUnderNoticePeriod == 'on' %} checked{% endif %}> &nbsp;
                                                <label>Allowed Under Notice Period</label>
                                                </div>
                                            </div>
                                            
                                        </div>

                                        <div class="row">
                                            <div class="col-md-12">
                                                <b>Leave Encash</b><hr>
                                            </div>

                                            <div class="col-md-6">
                                                <div class="form-group">
                                                <input type="checkbox" style="transform: scale(2);margin-top: 5%; margin-left: 5%;" id="LEE" name="LEE" {% if rulename.LeaveEncashEnabled == 'on' %} checked{% endif %}> &nbsp;
                                                <label>Leave Encash Enabled</label>
                                                </div>
                                            </div>

                                            <div class="col-md-6">
                                                <div class="form-group">
                                                <input type="checkbox" style="transform: scale(2);margin-top: 5%; margin-left: 5%;" id="ALE" name="ALE" {% if rulename.AllLeaveEncashable == 'on' %} checked{% endif %}> &nbsp;
                                                <label>All Leave Encashable</label>
                                                </div>
                                            </div>

                                            <div class="col-md-6" style="margin-left: 1%;">
                                                <div class="form-group">
                                                <label>Max. Leave Encashable</label>
                                                <input type="text" class="form-control" id="MLE" name="MLE" value="{% if rulename.MaxLeaveEncashable %} {{rulename.MaxLeaveEncashable}} {% endif %}">
                                                </div>
                                            </div>
                                        </div>
                
                                        <div class="row">
                                            <div class="col-md-12">
                                                <b>Carry Forward</b><hr>
                                            </div>

                                            <div class="col-md-6">
                                                <div class="form-group">
                                                <input type="checkbox" style="transform: scale(2);margin-top: 5%; margin-left: 5%;" id="CFA" name="CFA" {% if rulename.CarryForwardeEnabled == 'on' %} checked{% endif %}> &nbsp;
                                                <label>Carry Forward Enabled</label>
                                                </div>
                                            </div>

                                        </div>
                
                                        <div class="row">
                                            <div class="col-md-12">
                                                <button type="submit" class="btn btn-primary float-right">Save</button>
                                            </div>
                                        </div>
                
                                    </div> 
                                </form>
                                

                                <form method="post" action="{% url 'advancedsettings' %}">
                                {% csrf_token %}
                                    <div id="advancedLabel">
                                        <div class="row mb-10">

                                            <input type="hidden" name="rule_id" value="{{ rulename.id }}">

                                            <div class="col-md-12">
                                                <b>Leaves Count</b><hr>
                                            </div>
                                            
                                            <div class="col-md-6">
                                                <label>Max. Leaves Allowed in a Month</label>
                                                <input type="number" min="0" max="120" class="form-control" name="CLA" value="{% if rulename.ContinuousLeavesAllowed %}{{rulename.ContinuousLeavesAllowed}}{% endif %}">
                                            </div>
                                                                             
                                            
                                            <div class="col-md-6">
                                                <label>Continuous Leaves Allowed</label>
                                                <input type="number" min="0" max="120" class="form-control" name="CLA" value="{% if rulename.ContinuousLeavesAllowed %}{{rulename.ContinuousLeavesAllowed}}{% endif %}">
                                            </div>
                                        </div>
                
                                        <div class="row mb-10">
                                            <div class="col-md-12">
                                                <b>Applicability</b><hr>
                                            </div>
                                            
                                            <div class="col-md-6">
                                                <input type="checkbox" style="transform: scale(2);margin-top: 5%; margin-left: 5%;" id="NLA" name="NLA" {% if rulename.NegativeLeavesAllowed == 'on' %} checked{% endif %}> &nbsp;
                                                <label>Negative Leaves Allowed</label>                                                                           
                                            </div>
                                        </div>
                
                                        <div class="row mb-10">
                                            <div class="col-md-12">
                                                <b>Miscellaneous</b><hr>
                                            </div>
                                            
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <input type="checkbox" style="transform: scale(2);margin-top: 5%; margin-left: 5%;" id="FLA" name="FLA" {% if rulename.FutureDatedLeavesAllowed == 'on' %} checked{% endif %}> &nbsp;
                                                    <label>Future-dated Leaves Allowed</label>
                                                </div>
                                            </div>

                                            <div class="col-md-6">
                                                <div class="form-group">
                                                    <input type="checkbox" style="transform: scale(2);margin-top: 5%; margin-left: 5%;" id="BLA" name="BLA" {% if rulename.BackdatedLeavesAllowed == 'on' %} checked{% endif %}> &nbsp;
                                                    <label>Backdated Leaves Allowed</label>                                                                                   
                                                </div>
                                            </div>
                
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                <label>Future-dated Leaves Allowed After <span style="color:red">&#42</span></label>
                                                <input type="text" class="form-control" name="FLAA" value="{% if rulename.FutureDatedLeavesAllowedAfter %}{{rulename.FutureDatedLeavesAllowedAfter}}{% endif %}" required>
                                                </div>
                                            </div>
                                
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                <label>Backdated Leaves Allowed Up To <span style="color:red">&#42</span></label>
                                                <input type="text" class="form-control" name="BLAUpTo" value="{% if rulename.BackdatedLeavesAllowedUpTo %}{{rulename.BackdatedLeavesAllowedUpTo}}{% endif %}" required>
                                                </div>
                                            </div>
                
                                            <div class="col-md-6">
                                                <div class="form-group">
                                                <label>Apply Leaves for Next Year Till</label>
                                                <select class="form-control" name="ALNY">
                                                    <option value="" disabled selected>Select Month</option>
                                                    <option value="January" {% if rulename.ApplyLeavesforNextYearTill == 'January' %}selected{% endif %}>January</option>
                                                    <option value="February" {% if rulename.ApplyLeavesforNextYearTill == 'February' %}selected{% endif %}>February</option>
                                                    <option value="March" {% if rulename.ApplyLeavesforNextYearTill == 'March' %}selected{% endif %}>March</option>
                                                    <option value="April" {% if rulename.ApplyLeavesforNextYearTill == 'April' %}selected{% endif %}>April</option>
                                                    <option value="May" {% if rulename.ApplyLeavesforNextYearTill == 'May' %}selected{% endif %}>May</option>
                                                    <option value="June" {% if rulename.ApplyLeavesforNextYearTill == 'June' %}selected{% endif %}>June</option>
                                                    <option value="July" {% if rulename.ApplyLeavesforNextYearTill == 'July' %}selected{% endif %}>July</option>
                                                    <option value="August" {% if rulename.ApplyLeavesforNextYearTill == 'August' %}selected{% endif %}>August</option>
                                                    <option value="September" {% if rulename.ApplyLeavesforNextYearTill == 'September' %}selected{% endif %}>September</option>
                                                    <option value="October" {% if rulename.ApplyLeavesforNextYearTill == 'October' %}selected{% endif %}>October</option>
                                                    <option value="November" {% if rulename.ApplyLeavesforNextYearTill == 'November' %}selected{% endif %}>November</option>
                                                    <option value="December" {% if rulename.ApplyLeavesforNextYearTill == 'December' %}selected{% endif %}>December</option>
                                                </select>
                                                </div>
                                            </div>
                
                                        </div>
                
                                        <div class="row">
                                            <div class="col-md-12">
                                                <button type="submit" class="btn btn-primary float-right">Save</button>
                                            </div>
                                        </div>
                                    </div>
                                </form>
                            </div>
                        </div>
                        {% endfor %}
                    </div>

                    {% if not data %}
                    <div style="margin-left: 35%;">
                        <a href="{% url 'rule' %}"  type="button" class="btn btn-primary btn-sm ">Add Leave Rule</a>
                    </div>                    
                    {% endif %}
                    
                    
                <!-- </div> -->
            </div>
        </div>
    </div>                                                                                           

	 
    <!-- js -->
	<script src="/static/index/vendors/scripts/core.js"></script>
	<script src="/static/index/vendors/scripts/script.min.js"></script>
	<script src="/static/index/vendors/scripts/process.js"></script>
	<script src="/static/index/vendors/scripts/layout-settings.js"></script>
	<script src="/static/index/src/plugins/apexcharts/apexcharts.min.js"></script>
	<script src="/static/index/src/plugins/datatables/js/jquery.dataTables.min.js"></script>
	<script src="/static/index/src/plugins/datatables/js/dataTables.bootstrap4.min.js"></script>
	<script src="/static/index/src/plugins/datatables/js/dataTables.responsive.min.js"></script>
	<script src="/static/index/src/plugins/datatables/js/responsive.bootstrap4.min.js"></script>
	<script src="/static/index/vendors/scripts/dashboard.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
	<script src="https://cdn.jsdelivr.net/npm/chartjs-plugin-datalabels"></script>	

    <!-- <script>
        $(document).ready(function() {
            $("[id^='ruledisplay']").hide();
            
            $("#ruledisplay1").show();
            $("#clickrule1 .clickable-label").addClass("blue")
    
            {% for rulename in data %}
            $("#clickrule{{ forloop.counter }}").click(function() {
                $("[id^='ruledisplay']").hide();
                $("#clickrule1 .clickable-label").removeClass("blue")

                setTimeout(() => {
                    location.reload();
                }, 100);
                
                $("#ruledisplay{{ forloop.counter }}").show();
    
                $(".clickable-label").removeClass("blue");
    
                $("#label{{ forloop.counter }}").addClass("blue");
            });
            {% endfor %}
        });
    </script> -->


    <script>
    $(document).ready(function() {
        $("[id^='ruledisplay']").hide();

        const urlParams = new URLSearchParams(window.location.search);
        const clickedRule = urlParams.get('rule');

        if (clickedRule) {
            $(`#ruledisplay${clickedRule}`).show();
            $(`#clickrule${clickedRule} .clickable-label`).addClass("blue");
        } else {
            $("#ruledisplay1").show();
            $("#clickrule1 .clickable-label").addClass("blue");
        }

        {% for rulename in data %}
        $("#clickrule{{ forloop.counter }}").click(function() {
            const ruleCounter = {{ forloop.counter }};
            $("[id^='ruledisplay']").hide();
            $(".clickable-label").removeClass("blue");

            $("#ruledisplay" + ruleCounter).show();
            $("#label" + ruleCounter).addClass("blue");

            const url = new URL(window.location.href);
            url.searchParams.set('rule', ruleCounter);
            window.location.href = url.toString();
        });
        {% endfor %}
    });
</script>

<script>
    $(document).ready(function() {
    $("[id^='advancedLabel']").hide();

    $(".generalsettings").click(function() {
        $("[id^='generalLabel']").show();
        $("[id^='advancedLabel']").hide();
    });

    $(".advancedsettings").click(function() {
        $("[id^='advancedLabel']").show();
        $("[id^='generalLabel']").hide();
    });
});

</script>

</body>
</html>


