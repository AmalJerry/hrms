<!DOCTYPE html>
<html>
<head>
    <!-- Basic Page Info -->
    <meta charset="utf-8">
   
    <title>HRMS</title>
    <link rel="icon" href="/static/logo/apple-touch-icon.png" type="image/x-icon">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.1/font/bootstrap-icons.css">

    <!-- Site favicon -->
    <link rel="apple-touch-icon" sizes="180x180" href="static/index/vendors/images/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="static/index/vendors/images/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="static/index/vendors/images/favicon-16x16.png">

    <!-- Mobile Specific Metas -->
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">

    <!-- Google Font -->
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <!--  datepicker jquery bootstrap css -->
    <link rel="stylesheet" href="//code.jquery.com/ui/1.13.2/themes/base/jquery-ui.css">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet">

    <!-- CSS -->
    <link rel="stylesheet" type="text/css" href="static/index/vendors/styles/core.css">
    <link rel="stylesheet" type="text/css" href="static/index/vendors/styles/icon-font.min.css">
    <link rel="stylesheet" type="text/css" href="static/index/src/plugins/jquery-steps/jquery.steps.css">
    <link rel="stylesheet" type="text/css" href="static/index/vendors/styles/style.css">
    <link rel="stylesheet" type="text/css" href="/static/vendors/styles/style1.css">

    

    <!-- Global site tag (gtag.js) - Google Analytics -->
    <script async src="https://www.googletagmanager.com/gtag/js?id=UA-119386393-1"></script>
    <script>
        window.dataLayer = window.dataLayer || [];
        function gtag(){dataLayer.push(arguments);}
        gtag('js', new Date());

        gtag('config', 'UA-119386393-1');
    </script>
    <script>
        var loadFile = function(event) {
            var image = document.getElementById('output');
            image.src = URL.createObjectURL(event.target.files[0]);
        };
    </script>
    <style>
        i{
            cursor: pointer;
        }
        .alert{
            background-color: white;
            border: none;
        }
    </style>
 
 
<!-- bootstrap datepicker scripts -->

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-alpha3/dist/js/bootstrap.bundle.min.js"></script>
<script src="https://code.jquery.com/jquery-3.6.0.js"></script>
  <script src="https://code.jquery.com/ui/1.13.2/jquery-ui.js"></script>
  <script>
  $( function() {
    $( "#datepicker" ).datepicker({
        language:'en',
        changeMonth:true,
        changeYear: true
    });
  } );
  </script>
</head>
<body>
   
    <div class="header">
        <div class="header-left">
            <div class="menu-icon dw dw-menu"></div>
            <div class="search-toggle-icon dw dw-search2" data-toggle="header_search"></div>
            
        </div>
        <div class="header-right">
            <div class="dashboard-setting user-notification">
                <div class="dropdown">
                    <a class="dropdown-toggle no-arrow" href="javascript:;" data-toggle="right-sidebar">
                       
                    </a>
                </div>
            </div>
            <!-- <div class="user-notification">
                <div class="dropdown">
                    <a class="dropdown-toggle no-arrow" href="#" role="button" data-toggle="dropdown">
                        <i class="icon-copy dw dw-notification"></i>
                        <span class="badge notification-active"></span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right">
                        <div class="notification-list mx-h-350 customscroll">
                            <ul>
                                <li>
                                    <a href="#">
                                        <img src="static/index/vendors/images/img.jpg" alt="">
                                        <h3>John Doe</h3>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed...</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img src="static/index/vendors/images/photo1.jpg" alt="">
                                        <h3>Lea R. Frith</h3>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed...</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img src="static/index/vendors/images/photo2.jpg" alt="">
                                        <h3>Erik L. Richards</h3>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed...</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img src="static/index/vendors/images/photo3.jpg" alt="">
                                        <h3>John Doe</h3>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed...</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img src="static/index/vendors/images/photo4.jpg" alt="">
                                        <h3>Renee I. Hansen</h3>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed...</p>
                                    </a>
                                </li>
                                <li>
                                    <a href="#">
                                        <img src="static/index/vendors/images/img.jpg" alt="">
                                        <h3>Vicki M. Coleman</h3>
                                        <p>Lorem ipsum dolor sit amet, consectetur adipisicing elit, sed...</p>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div> -->
            <div class="user-info-dropdown">
                <div class="dropdown">
                    <a class="dropdown-toggle" href="#" role="button" data-toggle="dropdown">
                        <span class="user-icon">
                            {% if k.image %}
                            <img src="{{ k.image.url }}" alt="" style="width: 100%; height:100% ">
                            {% else %}
                            <img src="/static/logo/userlogo.png" id="photo" style="width: 100%; height:100% ">
                            {% endif %} 
                         </span>
                        <span class="user-name">{{request.user.username}}</span>
                    </a>
                    <div class="dropdown-menu dropdown-menu-right dropdown-menu-icon-list">
                        <a class="dropdown-item" href="{% url 'createpersonalinfo' %}"><i class="dw dw-user1"></i> Profile</a>
                        <a class="dropdown-item" href="{% url 'department' %}" data-toggle="right-sidebar"><i class="dw dw-settings2"></i> Settings</a>
                        <a class="dropdown-item" href="{% url 'help_page' %}"><i class="dw dw-help"></i> Help</a>
                        <a class="dropdown-item" href="{% url 'logout' %}"><i class="dw dw-logout"></i> Logout</a>
                    </div>
                </div>
            </div>
            <!-- <div class="github-link">
                <a href="https://github.com/dropways/deskapp" target="_blank"><img src="static/index/vendors/images/github.svg" alt=""></a>
            </div> -->
        </div>
    </div>
    <!-- <div class="right-sidebar">
        <div class="sidebar-title">
            <h3 class="weight-600 font-16 text-blue">
                 Settings -->
                <!--<span class="btn-block font-weight-400 font-12">User Interface Settings</span>-->
            <!-- </h3>
            <div class="close-sidebar" data-toggle="right-sidebar-close">
                <i class="icon-copy ion-close-round"></i>
            </div>
        </div>

        <div class="right-sidebar-body customscroll">
            <div class="right-sidebar-body-content">
                <h4 class="weight-600 font-18 pb-10" ><a href="{% url 'department' %}">Department</a> </h4>
				<h4 class="weight-600 font-18 pb-10" ><a href="{% url 'subdepartment' %}">Sub Department</a> </h4>
				<h4 class="weight-600 font-18 pb-10"><a href="{% url 'designation' %}">Designation</a></h4>
				<h4 class="weight-600 font-18 pb-10"><a href="{% url 'job' %}">Job Title</a></h4>
				<h4 class="weight-600 font-18 pb-10"><a href="{% url 'wrk' %}">Work location</a></h4>
            </div>
        </div>
    </div> -->

    <div class="left-side-bar">
        <div class="brand-logo mt-3">
        <a href="{% url 'dashboard' %}">
            {% if request.user.company_type %}
            {% if request.user.company_type.inverse_logo %}
            <img src="{{ request.user.company_type.inverse_logo.url }}" style="width: 100%; height: 100%;">
            {% else %}
            <img src="/static/logo/deskapp-logo-white.svg" alt="" class="light-logo">
            {% endif %}
            {% else %}
            <img src="/static/logo/deskapp-logo-white.svg" alt="" class="light-logo">
            {% endif %}
        </a>
        <div class="close-sidebar" data-toggle="left-sidebar-close">
           <i class="ion-close-round"></i>
        </div>
     </div>
      
       <div class="menu-block customscroll">

            <div class="sidebar-menu">
                <ul id="accordion-menu">
					
					<br>
					<li class="btn-primary active" style="background-color:black">
						<a href="{% url 'dashboard' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-house-1"></span><span class="mtext"><b>Dashboard</b></span>
						</a>
					</li>
					
					<li>
						<a href="{% url 'companyprofile' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-building"></span><span class="mtext"><b>Company Profile</b></span>
						</a>
					</li>
					<li>
						<a href="{% url 'personalinfonav' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-user1"></span><span class="mtext"><b>My Profile</b></span>
						</a>
					</li>
					<li>
						<a href="{% url 'leave' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-calendar-1"></span><span class="mtext"><b>Leave</b></span>
						</a>
					</li>
					<li>
						<a href="{% url 'directory' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-list"></span><span class="mtext"><b>Directory</b></span>
						</a>
					</li>
					<li>
						<a href="{% url 'dailylog' %}" class="dropdown-toggle no-arrow">
							<span class="micon bi bi-check2-square"></span><span class="mtext"><b>Attendance</b></span>
						</a>
					</li>
					<li>
						<a href="{% url 'calender' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-calendar"></span><span class="mtext"><b>Holiday Calendar</b></span>
						</a>
					</li>
					<li>
						<a href="{% url 'runpayroll_overview' %}" class="dropdown-toggle no-arrow">
							<span class="micon dw dw-money-2"></span><span class="mtext"><b>Payroll</b></span>
						</a>
					</li>


				</ul>
            </div>
        </div>
    </div>

    <div class="mobile-menu-overlay"></div>
    
       
        
    
<form action="{% url 'add_employee' %}" method="post" enctype="multipart/form-data"onsubmit="openModal()" >
        {% csrf_token %}
    <div class="main-container">
        <div class="pd-ltr-20 card-box height-100-px overflow-hidden">
            <!-- <div class="min-height-200px"> -->
                <!-- <div class="pd-20 card-box mb-30"> -->
                   <div class=" row profile-setting">
                        <h5 >ADD NEW EMPLOYEE</h5>
                    </div> 
                    <br>
                    <!-- <div class="pd-20 card-box mb-30"> -->
                        <p class="text-center" id="msg3" style="color: green;">{{msg3}}</p>
                        <h4 class="mb-20 h5 text-blue">Personal Information<hr></h4><br>
                        <div class="row profile-setting">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label >Name <span style="color:red">&#42</span></label>
                                    <input type="text" class="form-control" name="username" id="Fname" pattern="[a-zA-Z\s]+" required>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Email Address <span style="color:red">&#42</span></label>
                                    <input type="email" pattern="[a-z0-9._%+-]+@[a-z0-9.-]+\.[a-z]{2,4}" class="form-control" name="email"  id="Email" required>
                                    <p style="color: red;" id="msg1">{{msg1}}</p>
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Phone Number <span style="color:red">&#42</span></label>
                                    <input type="text" class="form-control" name="phone" id="Phn" pattern="[0-9]{10}" required>
                                    <p style="color: red;" id="msg2">{{msg2}}</p>
                                </div>
                            </div>
                        </div>
                        <!-- <h4 class="mb-20 h5 text-blue">Personal Information<hr></h4><br> -->
                            
                        <div class="row">
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label> Date of Birth <span style="color:red">&#42</span></label>
                                           
                                        <div class="input-group date">
                                            <input class="form-control date-picker" placeholder="Select Date" type="text" id="datepicker" name="dob" required>
                                        </div>    
                                </div>
                            </div>
                            <div class="col-md-4">
                                <div class="form-group">
                                    <label>Select Gender </label>
                                    <div class="d-flex">
                                        <div class="custom-radio ">
                                            <label >Male</label>
                                            <input type="radio" name="gender" id="customRadio5" value="Male" >
                                            <label>Female</label>
                                            <input type="radio" name="gender"  id="customRadio5" value="Female" >
                                            <label>Transgender</label>
                                            <input type="radio" name="gender"  id="customRadio5" value="Transgender">
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                        
                        <h4 class="mb-20 h5 text-blue">Work Details<hr></h4><br>
                            <div class="row">
                                <!-- <div class="col-md-4">
                                    <div class="form-group">
                                            <label>Status </label>
                                            <select class="form-select" name="status" required>
                                                <option value="" disabled="true" selected >Status</option>
                                                <option value="Active" >Active</option>
                                                <option value="Inactive">Inactive</option>
                                                <option value="Onboarding">Onboarding</option>
                                            </select>
                                    </div>
                                </div> -->
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <style>
                                            .inputWithIcon input[type="text"] {  
                                            padding-left: 30px;  
                                            }  
                                            
                                            .inputWithIcon {  
                                            position: relative;  
                                            }  
                                            
                                            .inputWithIcon i {  
                                            position: absolute;  
                                            left: 10;  
                                            top: 6px;  
                                            padding: 9px 8px;  
                                            color: rgb(148, 145, 145);  
                                            transition: 0.3s;  
                                            
                                            }  
                                        </style>
                                        <label >Date of Joining <span style="color:red">&#42</span></label>
                                        <div class="inputWithIcon">
                                            <i class="icon-copy fa fa-calendar" aria-hidden="true"></i>
                                            
                                            <input class="form-control date-picker" readonly placeholder="Select Date" type="text" name="Joindate" id="Joindate" required>
                                            
                                        </div>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="department">Department <span style="color:red">&#42</label>
                                        <select class="form-select" id="department" name="department" required>
                                            <option value="" selected>Select Department</option>
                                            {% for department in dp %}
                                                <option value="{{ department.id }}">{{ department.name }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="subdepartment">Sub Department</label>
                                        <select class="form-select" id="subdepartment" name="subdepartment">
                                            <option value="" selected>Select Sub Department</option>
                                            {% for subdepartment in sd %}
                                                <option value="{{ subdepartment.id }}" data-department="{{ subdepartment.depname_id }}">{{ subdepartment.subname }}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>

                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Designation <span style="color:red">&#42</label>
                                            <select class="form-select" name="designation" required>
                                             <option value="" selected>Select Designation</option>   
                                            {% for j in dn %}
                                                <option value="{{j.id}}">{{j.name}}</option>
                                            {% endfor %}
                                            </select>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Job Title <span style="color:red">&#42</label>
                                            <select class="form-select" name="jobtitle" required>
                                            <option value="" selected>Select Job title</option>

                                                {% for j in jb %}
                                                   <option value="{{j.id}}">{{j.name}}</option>
                                                {% endfor %}
                                            </select>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Reporting Manager</label>
                                        <select class="form-select" name="reptmgr">
                                        <option value="" selected>Select Reporting Manager</option>
                                            {% for j in rp %}
                                              <option value="{{j.id}}">{{j.username}}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Work Location <span style="color:red">&#42</label>
                                       <select class="form-select" name="wrklcn" required>
                                        <option value="" selected>Select Work Location</option>
                                            {% for j in wr %}
                                              <option value="{{j.id}}">{{j.location}}</option>
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Employee Type <span style="color:red">&#42 </label>
                                        <select class="form-select" name="emptype" required>
                                            <option value="" selected >Select Employee Type</option>
                                            <option>Full Time</option>
                                            <option>Part Time</option>
                                            <option>Intern</option>
                                            <option>Contract</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label for="company_type">Company Type <span style="color:red">&#42</span></label>
                                        <select class="form-select" id="company_type" name="company_type" required>
                                            <option value="" selected>Select Company Type</option>
                                            {% for company in company_profiles %}
                                                <option value="{{ company.id }}">{{ company.type_of_company }}</option>
                                                {% empty %}
                                              <option value="">No companies available</option>
          
                                            {% endfor %}
                                        </select>
                                    </div>
                                </div>
                                
                                
                
                                <div class="col-md-4">
                                    <div class="form-group">
                                        <label>Probation Period</label>
                                        <input type="number" class="form-control" name="probperiod"  >
                                    </div>
                                </div>
                                
                                <div class=" col-md-12 ">
                                    <div class=" form-group text float-right"  data-toggle="modal" data-target="#success-modal" >
                                    <button type="submit" class="btn btn-primary" role="menuitem" >Submit</button>
                                    </div>
                                </div>
                            </div>

                        </form>
                        <!-- </div>   -->
                <!-- </div> -->
            <!-- </div> -->
        </div>
    </div>

    
   <!-- js -->
    <script src="static/index/vendors/scripts/core.js"></script>
    <script src="static/index/vendors/scripts/script.min.js"></script>
    <script src="static/index/vendors/scripts/process.js"></script>
    <script src="static/index/vendors/scripts/layout-settings.js"></script>
    <script src="static/index/src/plugins/jquery-steps/jquery.steps.js"></script>
    <script src="static/index/vendors/scripts/steps-setting.js"></script>

    <script>
        document.addEventListener("DOMContentLoaded", function () {
            var departmentSelect = document.getElementById("department");
            var subdepartmentSelect = document.getElementById("subdepartment");
            var subdepartmentOptions = subdepartmentSelect.querySelectorAll("option");
    
            departmentSelect.addEventListener("change", function () {
                var selectedDepartment = departmentSelect.value;
                
                subdepartmentSelect.selectedIndex = 0; // Reset subdepartment selection
                
                if (selectedDepartment) {
                    subdepartmentOptions.forEach(function (option) {
                        var departmentId = option.getAttribute("data-department");
                        if (departmentId === selectedDepartment) {
                            option.style.display = "block";
                        } else {
                            option.style.display = "none";
                        }
                    });
                } else {
                    // If no department is selected, hide all subdepartment options
                    subdepartmentOptions.forEach(function (option) {
                        option.style.display = "none";
                    });
                }
            });
        });
    </script>
    
<script>
        setTimeout(function(){
          if ($('#msg1').length > 0) {
            $('#msg1').remove();
          }
        }, 7000),
        setTimeout(function(){
          if ($('#msg2').length > 0) {
            $('#msg2').remove();
          }
        }, 7000),
        setTimeout(function(){
          if ($('#msg3').length > 0) {
            $('#msg3').remove();
          }
        }, 7000)

</script>
</body>
</html>